apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'com.github.johnrengelman.shadow'
apply from: "${project.rootDir}/gradle/deploy.gradle"

buildscript {
    repositories { jcenter() }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:6.1.0'
    }
}

sourceCompatibility = 1.7
version = '1.2'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'io.dropwizard', name: 'dropwizard-core', version: '0.7.1'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

mainClassName = 'com.github.willis.App'

shadowJar {
    mergeServiceFiles()
}

run {
    args 'server', "config.yml"
}

runShadow {
    args 'server', "config.yml"
}